2025-05-01 12:02:50,025 - govllminer.middleware - INFO - 127.0.0.1:62068 - GET /api/v1/docs - Status: 200 - Time: 0.00s
2025-05-01 12:02:50,270 - govllminer.middleware - INFO - 127.0.0.1:62068 - GET /api/v1/openapi.json - Status: 200 - Time: 0.02s
2025-05-01 12:03:00,507 - govllminer.middleware - INFO - 127.0.0.1:62069 - POST /api/v1/auth/signin - Status: 200 - Time: 2.94s
2025-05-01 12:03:18,728 - govllminer.middleware - INFO - 127.0.0.1:62070 - POST /api/v1/auth/signin - Status: 400 - Time: 4.07s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-01 12:15:01,592 - govllminer.middleware - INFO - 127.0.0.1:62720 - GET /api/v1/docs - Status: 200 - Time: 0.00s
2025-05-01 12:15:20,578 - govllminer.middleware - INFO - 127.0.0.1:62722 - GET /api/v1/openapi.json - Status: 200 - Time: 0.03s
2025-05-01 12:16:58,073 - govllminer.middleware - INFO - 127.0.0.1:62818 - POST /api/v1/auth/signin - Status: 200 - Time: 2.09s
2025-05-01 12:17:18,800 - govllminer.middleware - INFO - 127.0.0.1:62819 - POST /api/v1/auth/signin - Status: 400 - Time: 1.21s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-01 12:17:30,516 - govllminer.middleware - INFO - 127.0.0.1:62837 - POST /api/v1/auth/signin - Status: 400 - Time: 1.01s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-01 12:18:49,699 - govllminer.middleware - INFO - 127.0.0.1:62929 - POST /api/v1/auth/signin - Status: 400 - Time: 0.96s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-01 12:19:05,938 - govllminer.middleware - INFO - 127.0.0.1:62930 - POST /api/v1/auth/signin - Status: 400 - Time: 1.31s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-01 12:19:39,596 - govllminer.middleware - INFO - 127.0.0.1:62960 - POST /api/v1/auth/signin - Status: 200 - Time: 1.59s
2025-05-01 12:25:27,042 - govllminer.middleware - INFO - 127.0.0.1:63250 - GET /api/v1/docs - Status: 200 - Time: 0.00s
2025-05-01 12:25:44,360 - govllminer.middleware - INFO - 127.0.0.1:63252 - GET /api/v1/openapi.json - Status: 200 - Time: 0.08s
2025-05-01 12:25:50,625 - govllminer.middleware - INFO - 127.0.0.1:63252 - POST /api/v1/auth/signin - Status: 200 - Time: 1.95s
2025-05-01 12:28:23,489 - govllminer.middleware - INFO - 127.0.0.1:63363 - POST /api/v1/auth/signin - Status: 200 - Time: 1.20s
2025-05-01 12:28:44,111 - govllminer.middleware - INFO - 127.0.0.1:63364 - POST /api/v1/auth/signin - Status: [92m200[0m - Time: 1.88s
2025-05-01 12:31:00,342 - govllminer.middleware - INFO - 127.0.0.1:63468 - POST /api/v1/auth/signin - Status: [92m200[0m - Time: 1.69s
2025-05-01 12:31:41,944 - govllminer.middleware - INFO - 127.0.0.1:63470 - POST /api/v1/auth/signin - Status: [92m200[0m - Time: 1.79s
2025-05-01 12:31:51,578 - govllminer.middleware - INFO - 127.0.0.1:63503 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-01 12:31:51,985 - govllminer.middleware - INFO - 127.0.0.1:63503 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.02s
2025-05-01 12:31:57,354 - govllminer.middleware - INFO - 127.0.0.1:63503 - POST /api/v1/auth/signin - Status: [92m200[0m - Time: 1.57s
2025-05-01 12:32:08,618 - govllminer.middleware - INFO - 127.0.0.1:63504 - POST /api/v1/auth/signin - Status: [93m400[0m - Time: 1.34s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-01 12:37:48,253 - govllminer.middleware - INFO - 127.0.0.1:63857 - POST /api/v1/auth/google-token - Status: [92m200[0m - Time: 1.03s
2025-05-01 12:40:30,788 - govllminer.middleware - INFO - 127.0.0.1:63953 - POST /api/v1/auth/signin - Status: 400 - Time: 1.24s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-01 12:42:16,225 - govllminer.middleware - INFO - 127.0.0.1:64032 - POST /api/v1/auth/signin - Status: 400 - Time: 1.54s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-01 12:42:32,212 - govllminer.middleware - INFO - 127.0.0.1:64033 - POST /api/v1/auth/signin - Status: 400 - Time: 1.38s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-01 12:42:41,881 - govllminer.middleware - INFO - 127.0.0.1:64056 - POST /api/v1/auth/signin - Status: 200 - Time: 1.61s
2025-05-05 07:27:40,801 - govllminer.middleware - INFO - 127.0.0.1:56932 - GET / - Status: [92m200[0m - Time: 0.00s
2025-05-05 07:27:41,150 - govllminer.middleware - INFO - 127.0.0.1:56932 - GET /favicon.ico - Status: [93m404[0m - Time: 0.00s - Reason: Not Found
2025-05-05 07:27:43,828 - govllminer.middleware - INFO - 127.0.0.1:56932 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 07:27:44,361 - govllminer.middleware - INFO - 127.0.0.1:56932 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.06s
2025-05-05 07:27:57,231 - govllminer.middleware - INFO - 127.0.0.1:56933 - GET /api/v1/chat/sessions - Status: [93m401[0m - Time: 0.00s - Reason: {'message': 'User not authenticated', 'error_code': 'not_authenticated'}
2025-05-05 07:28:10,306 - govllminer.middleware - INFO - 127.0.0.1:56934 - POST /api/v1/auth/signin - Status: [92m200[0m - Time: 2.21s
2025-05-05 07:28:18,085 - govllminer.middleware - INFO - 127.0.0.1:56964 - GET /api/v1/chat/sessions - Status: [91m500[0m - Time: 0.83s - Reason: {'message': 'Oops! Something went wrong with the database', 'error_code': 'server_error'}
2025-05-05 07:35:42,517 - govllminer.middleware - INFO - 127.0.0.1:57243 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 07:35:42,619 - govllminer.middleware - INFO - 127.0.0.1:57243 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.04s
2025-05-05 07:36:51,119 - govllminer.middleware - INFO - 127.0.0.1:57288 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 07:38:24,906 - govllminer.middleware - INFO - 127.0.0.1:57345 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 07:38:25,108 - govllminer.middleware - INFO - 127.0.0.1:57345 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.02s
2025-05-05 07:39:11,999 - govllminer.middleware - INFO - 127.0.0.1:57346 - GET /api/v1/chat/sessions - Status: [92m200[0m - Time: 0.87s
2025-05-05 07:40:17,272 - govllminer.middleware - INFO - 127.0.0.1:57403 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 3.35s
2025-05-05 07:43:13,638 - govllminer.middleware - INFO - 127.0.0.1:57528 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 07:43:23,780 - govllminer.middleware - INFO - 127.0.0.1:57532 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.02s
2025-05-05 07:43:38,903 - govllminer.middleware - INFO - 127.0.0.1:57558 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 3.40s
2025-05-05 07:45:23,976 - govllminer.middleware - INFO - 127.0.0.1:57597 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 2.83s
2025-05-05 07:45:38,575 - govllminer.middleware - INFO - 127.0.0.1:57607 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 3.49s
2025-05-05 07:46:32,387 - govllminer.middleware - INFO - 127.0.0.1:57640 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 2.53s
2025-05-05 07:46:46,362 - govllminer.middleware - INFO - 127.0.0.1:57649 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 3.17s
2025-05-05 07:49:22,733 - govllminer.middleware - INFO - 127.0.0.1:57773 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 2.91s
2025-05-05 07:49:38,391 - govllminer.middleware - INFO - 127.0.0.1:57783 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 3.33s
2025-05-05 07:50:08,609 - govllminer.middleware - INFO - 127.0.0.1:57784 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 2.73s
2025-05-05 07:50:56,949 - govllminer.middleware - INFO - 127.0.0.1:57865 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 3.02s
2025-05-05 07:51:12,823 - govllminer.middleware - INFO - 127.0.0.1:57872 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 3.34s
2025-05-05 07:51:37,581 - govllminer.middleware - INFO - 127.0.0.1:57873 - GET /api/v1/chat/sessions - Status: [92m200[0m - Time: 0.87s
2025-05-05 07:52:30,577 - govllminer.middleware - INFO - 127.0.0.1:57908 - GET /api/v1/chat/sessions - Status: [92m200[0m - Time: 0.63s
2025-05-05 07:52:41,388 - govllminer.middleware - INFO - 127.0.0.1:57909 - GET /api/v1/chat/sessions - Status: [92m200[0m - Time: 0.84s
2025-05-05 07:53:31,468 - govllminer.middleware - ERROR - Unhandled error for GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 256, in get_chat_by_session_id
    stmt = select(ChatMessageDB).where(ChatMessageDB.session_id == session_id).order_by(ChatMessageDB.timestamp.asc())
                                                                                        ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    raise AttributeError(item)
AttributeError: timestamp
2025-05-05 07:53:31,586 - govllminer.middleware - ERROR - Unhandled exception at GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f: timestamp
2025-05-05 07:53:31,714 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    |     return await chat_client.get_chat_by_session_id(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<2 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 256, in get_chat_by_session_id
    |     stmt = select(ChatMessageDB).where(ChatMessageDB.session_id == session_id).order_by(ChatMessageDB.timestamp.asc())
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    |     raise AttributeError(item)
    | AttributeError: timestamp
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 256, in get_chat_by_session_id
    stmt = select(ChatMessageDB).where(ChatMessageDB.session_id == session_id).order_by(ChatMessageDB.timestamp.asc())
                                                                                        ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    raise AttributeError(item)
AttributeError: timestamp

2025-05-05 07:54:10,737 - govllminer.middleware - ERROR - Unhandled error for GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 256, in get_chat_by_session_id
    stmt = select(ChatMessageDB).where(ChatMessageDB.session_id == session_id).order_by(ChatMessageDB.created_at.desc())
                                                                                        ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    raise AttributeError(item)
AttributeError: timestamp
2025-05-05 07:54:10,742 - govllminer.middleware - ERROR - Unhandled exception at GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f: timestamp
2025-05-05 07:54:10,749 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    |     return await chat_client.get_chat_by_session_id(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<2 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 256, in get_chat_by_session_id
    |     stmt = select(ChatMessageDB).where(ChatMessageDB.session_id == session_id).order_by(ChatMessageDB.created_at.desc())
    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    |     raise AttributeError(item)
    | AttributeError: timestamp
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 256, in get_chat_by_session_id
    stmt = select(ChatMessageDB).where(ChatMessageDB.session_id == session_id).order_by(ChatMessageDB.created_at.desc())
                                                                                        ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\_internal\_model_construction.py", line 271, in __getattr__
    raise AttributeError(item)
AttributeError: timestamp

2025-05-05 07:54:31,610 - govllminer.middleware - ERROR - Unhandled error for GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 275, in get_chat_by_session_id
    if msg.role == "user":
       ^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\main.py", line 994, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ChatMessage' object has no attribute 'role'
2025-05-05 07:54:31,637 - govllminer.middleware - ERROR - Unhandled exception at GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f: 'ChatMessage' object has no attribute 'role'
2025-05-05 07:54:31,647 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    |     return await chat_client.get_chat_by_session_id(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<2 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 275, in get_chat_by_session_id
    |     if msg.role == "user":
    |        ^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\main.py", line 994, in __getattr__
    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
    | AttributeError: 'ChatMessage' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 275, in get_chat_by_session_id
    if msg.role == "user":
       ^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\main.py", line 994, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ChatMessage' object has no attribute 'role'

2025-05-05 07:55:33,303 - govllminer.middleware - ERROR - Unhandled error for GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 275, in get_chat_by_session_id
    if msg.sender == "user":
       ^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\main.py", line 994, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ChatMessage' object has no attribute 'role'
2025-05-05 07:55:33,328 - govllminer.middleware - ERROR - Unhandled exception at GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f: 'ChatMessage' object has no attribute 'role'
2025-05-05 07:55:33,371 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    |     return await chat_client.get_chat_by_session_id(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<2 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 275, in get_chat_by_session_id
    |     if msg.sender == "user":
    |        ^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\main.py", line 994, in __getattr__
    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
    | AttributeError: 'ChatMessage' object has no attribute 'role'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 275, in get_chat_by_session_id
    if msg.sender == "user":
       ^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\pydantic\main.py", line 994, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ChatMessage' object has no attribute 'role'

2025-05-05 07:55:45,765 - govllminer.middleware - INFO - 127.0.0.1:57993 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 1.30s
2025-05-05 07:56:41,428 - govllminer.middleware - INFO - 127.0.0.1:58032 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 0.96s
2025-05-05 07:56:53,441 - govllminer.middleware - INFO - 127.0.0.1:58033 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 1.39s
2025-05-05 07:58:06,227 - govllminer.middleware - INFO - 127.0.0.1:58091 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 1.26s
2025-05-05 07:58:13,138 - govllminer.middleware - INFO - 127.0.0.1:58092 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 0.90s
2025-05-05 08:03:08,571 - govllminer.middleware - INFO - 127.0.0.1:58230 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 1.43s
2025-05-05 08:03:14,257 - govllminer.middleware - INFO - 127.0.0.1:58230 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 0.90s
2025-05-05 08:04:31,513 - govllminer.middleware - INFO - 127.0.0.1:58323 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 0.86s
2025-05-05 08:04:43,325 - govllminer.middleware - ERROR - Unhandled error for GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 257, in get_chat_by_session_id
    stmt = select(ChatMessageDB).where(ChatMessageDB.session_id == UUID(session_id)).order_by(ChatMessageDB.created_at.desc())
                                                                   ~~~~^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\uuid.py", line 178, in __init__
    hex = hex.replace('urn:', '').replace('uuid:', '')
          ^^^^^^^^^^^
AttributeError: 'UUID' object has no attribute 'replace'
2025-05-05 08:04:43,338 - govllminer.middleware - ERROR - Unhandled exception at GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f: 'UUID' object has no attribute 'replace'
2025-05-05 08:04:43,345 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    |     return await chat_client.get_chat_by_session_id(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<2 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 257, in get_chat_by_session_id
    |     stmt = select(ChatMessageDB).where(ChatMessageDB.session_id == UUID(session_id)).order_by(ChatMessageDB.created_at.desc())
    |                                                                    ~~~~^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\uuid.py", line 178, in __init__
    |     hex = hex.replace('urn:', '').replace('uuid:', '')
    |           ^^^^^^^^^^^
    | AttributeError: 'UUID' object has no attribute 'replace'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 257, in get_chat_by_session_id
    stmt = select(ChatMessageDB).where(ChatMessageDB.session_id == UUID(session_id)).order_by(ChatMessageDB.created_at.desc())
                                                                   ~~~~^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\uuid.py", line 178, in __init__
    hex = hex.replace('urn:', '').replace('uuid:', '')
          ^^^^^^^^^^^
AttributeError: 'UUID' object has no attribute 'replace'

2025-05-05 08:08:46,249 - govllminer.middleware - ERROR - Unhandled error for GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 257, in get_chat_by_session_id
    result = await session.execute(stmt)
    
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\uuid.py", line 178, in __init__
    hex = hex.replace('urn:', '').replace('uuid:', '')
          ^^^^^^^^^^^
AttributeError: 'UUID' object has no attribute 'replace'
2025-05-05 08:08:46,277 - govllminer.middleware - ERROR - Unhandled exception at GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f: 'UUID' object has no attribute 'replace'
2025-05-05 08:08:46,305 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    |     return await chat_client.get_chat_by_session_id(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<2 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 257, in get_chat_by_session_id
    |     result = await session.execute(stmt)
    |     
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\uuid.py", line 178, in __init__
    |     hex = hex.replace('urn:', '').replace('uuid:', '')
    |           ^^^^^^^^^^^
    | AttributeError: 'UUID' object has no attribute 'replace'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 149, in get_chat_by_session_id
    return await chat_client.get_chat_by_session_id(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 257, in get_chat_by_session_id
    result = await session.execute(stmt)
    
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\uuid.py", line 178, in __init__
    hex = hex.replace('urn:', '').replace('uuid:', '')
          ^^^^^^^^^^^
AttributeError: 'UUID' object has no attribute 'replace'

2025-05-05 08:09:16,148 - govllminer.middleware - INFO - 127.0.0.1:58472 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 1.28s
2025-05-05 08:09:40,822 - govllminer.middleware - INFO - 127.0.0.1:58501 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 08:09:40,994 - govllminer.middleware - INFO - 127.0.0.1:58501 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.02s
2025-05-05 08:09:50,970 - govllminer.middleware - INFO - 127.0.0.1:58502 - GET /api/v1/chat/sessions - Status: [92m200[0m - Time: 0.94s
2025-05-05 08:10:13,571 - govllminer.middleware - INFO - 127.0.0.1:58505 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 1.50s
2025-05-05 08:12:07,302 - govllminer.middleware - INFO - 127.0.0.1:58644 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 0.80s
2025-05-05 08:12:19,214 - govllminer.middleware - INFO - 127.0.0.1:58645 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 1.31s
2025-05-05 08:16:41,717 - govllminer.middleware - INFO - 127.0.0.1:58772 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 08:16:53,378 - govllminer.middleware - INFO - 127.0.0.1:58776 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.02s
2025-05-05 08:17:07,341 - govllminer.middleware - INFO - 127.0.0.1:58788 - GET /api/v1/chat/sessions - Status: [92m200[0m - Time: 0.98s
2025-05-05 08:17:24,237 - govllminer.middleware - INFO - 127.0.0.1:58789 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 1.29s
2025-05-05 08:17:38,153 - govllminer.middleware - ERROR - Database integrity error at DELETE /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "session_id" of relation "chat_messages" violates not-null constraint
DETAIL:  Failing row contains (bece1d06-d165-496c-a324-b6fdcb1784ff, null, ai, Not much, just here and ready to help with any questions or topi..., 2025-05-05 06:51:11.387425).
[SQL: UPDATE chat_messages SET session_id=$1::UUID WHERE chat_messages.id = $2::UUID]
[parameters: [(None, UUID('bece1d06-d165-496c-a324-b6fdcb1784ff')), (None, UUID('e76f8dc2-8161-44c2-a159-0504dbdbd1e8'))]]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-05 08:17:38,251 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 573, in _executemany
    return await self._connection.executemany(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, seq_of_parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\asyncpg\connection.py", line 390, in executemany
    return await self._executemany(command, args, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\asyncpg\connection.py", line 1988, in _executemany
    result, _ = await self._do_execute(
                ^^^^^^^^^^^^^^^^^^^^^^^
        query, executor, timeout, record_class=record_class
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 268, in bind_execute_many
asyncpg.exceptions.NotNullViolationError: null value in column "session_id" of relation "chat_messages" violates not-null constraint
DETAIL:  Failing row contains (bece1d06-d165-496c-a324-b6fdcb1784ff, null, ai, Not much, just here and ready to help with any questions or topi..., 2025-05-05 06:51:11.387425).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1933, in _exec_single_context
    self.dialect.do_executemany(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        cursor,
        ^^^^^^^
    ...<2 lines>...
        context,
        ^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_executemany
    cursor.executemany(statement, parameters)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 585, in executemany
    return self._adapt_connection.await_(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._executemany(operation, seq_of_parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 577, in _executemany
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "session_id" of relation "chat_messages" violates not-null constraint
DETAIL:  Failing row contains (bece1d06-d165-496c-a324-b6fdcb1784ff, null, ai, Not much, just here and ready to help with any questions or topi..., 2025-05-05 06:51:11.387425).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 160, in delete_session
    return await chat_client.delete_session(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 318, in delete_session
    await session.commit()
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1015, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 85, in save_obj
    _emit_update_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        update,
        ^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1933, in _exec_single_context
    self.dialect.do_executemany(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        cursor,
        ^^^^^^^
    ...<2 lines>...
        context,
        ^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_executemany
    cursor.executemany(statement, parameters)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 585, in executemany
    return self._adapt_connection.await_(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._executemany(operation, seq_of_parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 577, in _executemany
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "session_id" of relation "chat_messages" violates not-null constraint
DETAIL:  Failing row contains (bece1d06-d165-496c-a324-b6fdcb1784ff, null, ai, Not much, just here and ready to help with any questions or topi..., 2025-05-05 06:51:11.387425).
[SQL: UPDATE chat_messages SET session_id=$1::UUID WHERE chat_messages.id = $2::UUID]
[parameters: [(None, UUID('bece1d06-d165-496c-a324-b6fdcb1784ff')), (None, UUID('e76f8dc2-8161-44c2-a159-0504dbdbd1e8'))]]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2025-05-05 08:17:38,258 - govllminer.middleware - INFO - 127.0.0.1:58799 - DELETE /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [93m400[0m - Time: 1.67s - Reason: Database error occurred
2025-05-05 08:26:25,718 - govllminer.middleware - INFO - 127.0.0.1:59091 - DELETE /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [92m200[0m - Time: 2.15s
2025-05-05 08:26:37,608 - govllminer.middleware - INFO - 127.0.0.1:59092 - GET /api/v1/chat/session/dd4080dd-8002-43b3-bebc-705e614f4b9f - Status: [93m404[0m - Time: 0.89s - Reason: {'message': 'No chat history found', 'error_code': 'no_chats_found'}
2025-05-05 08:29:17,231 - govllminer.middleware - INFO - 127.0.0.1:59394 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 08:29:17,385 - govllminer.middleware - INFO - 127.0.0.1:59394 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.05s
2025-05-05 08:31:58,289 - govllminer.middleware - INFO - 127.0.0.1:59521 - GET /api/v1/auth/users/me - Status: [92m200[0m - Time: 0.00s
2025-05-05 08:32:11,170 - govllminer.middleware - ERROR - Unhandled error for GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 113, in get_grouped_chats
    result = await chat_client.get_chats_by_user_grouped(user_id=user_id, session=session)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 204, in get_chats_by_user_grouped
    session_id, session_name, message = row
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 3, got 2)
2025-05-05 08:32:11,230 - govllminer.middleware - ERROR - Unhandled exception at GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats: not enough values to unpack (expected 3, got 2)
2025-05-05 08:32:11,303 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 113, in get_grouped_chats
    |     result = await chat_client.get_chats_by_user_grouped(user_id=user_id, session=session)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 204, in get_chats_by_user_grouped
    |     session_id, session_name, message = row
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    | ValueError: not enough values to unpack (expected 3, got 2)
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 113, in get_grouped_chats
    result = await chat_client.get_chats_by_user_grouped(user_id=user_id, session=session)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 204, in get_chats_by_user_grouped
    session_id, session_name, message = row
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 3, got 2)

2025-05-05 08:34:11,633 - govllminer.middleware - ERROR - Unhandled error for GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 113, in get_grouped_chats
    result = await chat_client.get_chats_by_user_grouped(user_id=user_id, session=session)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 204, in get_chats_by_user_grouped
    session_id, session_name, message = row
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 3, got 2)
2025-05-05 08:34:11,701 - govllminer.middleware - ERROR - Unhandled exception at GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats: not enough values to unpack (expected 3, got 2)
2025-05-05 08:34:11,756 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 113, in get_grouped_chats
    |     result = await chat_client.get_chats_by_user_grouped(user_id=user_id, session=session)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 204, in get_chats_by_user_grouped
    |     session_id, session_name, message = row
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    | ValueError: not enough values to unpack (expected 3, got 2)
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 113, in get_grouped_chats
    result = await chat_client.get_chats_by_user_grouped(user_id=user_id, session=session)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 204, in get_chats_by_user_grouped
    session_id, session_name, message = row
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 3, got 2)

2025-05-05 08:34:25,063 - govllminer.middleware - INFO - 127.0.0.1:59620 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 1.62s
2025-05-05 08:35:46,327 - govllminer.middleware - INFO - 127.0.0.1:59680 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 1.62s
2025-05-05 08:36:00,634 - govllminer.middleware - INFO - 127.0.0.1:59681 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 1.70s
2025-05-05 08:37:12,299 - govllminer.middleware - INFO - 127.0.0.1:59713 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 3.29s
2025-05-05 08:37:23,219 - govllminer.middleware - INFO - 127.0.0.1:59715 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 1.28s
2025-05-05 08:38:51,303 - govllminer.middleware - INFO - 127.0.0.1:59839 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 2.73s
2025-05-05 08:39:04,269 - govllminer.middleware - INFO - 127.0.0.1:59858 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 1.71s
2025-05-05 08:43:43,396 - govllminer.middleware - INFO - 127.0.0.1:60033 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 1.61s
2025-05-05 08:43:56,303 - govllminer.middleware - INFO - 127.0.0.1:60034 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 1.73s
2025-05-05 08:46:28,169 - govllminer.middleware - INFO - 127.0.0.1:60107 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 08:46:38,921 - govllminer.middleware - INFO - 127.0.0.1:60109 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.02s
2025-05-05 09:35:49,594 - govllminer.middleware - INFO - 127.0.0.1:62642 - GET / - Status: [92m200[0m - Time: 0.00s
2025-05-05 09:35:50,124 - govllminer.middleware - INFO - 127.0.0.1:62642 - GET /favicon.ico - Status: [93m404[0m - Time: 0.00s - Reason: Not Found
2025-05-05 09:35:54,114 - govllminer.middleware - INFO - 127.0.0.1:62642 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 09:35:54,444 - govllminer.middleware - INFO - 127.0.0.1:62642 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.03s
2025-05-05 09:36:24,519 - govllminer.middleware - INFO - 127.0.0.1:62643 - POST /api/v1/auth/google-token - Status: [92m200[0m - Time: 1.94s
2025-05-05 10:03:36,080 - govllminer.middleware - INFO - 127.0.0.1:64136 - POST /api/v1/auth/google-token - Status: [93m404[0m - Time: 0.00s - Reason: Not Found
2025-05-05 10:36:11,536 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/google-token
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\routes.py", line 154, in google_auth
    reponse =  await google_login(code, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\auth.py", line 174, in google_login
    print("The next url: ", request.url_for('auth'))
                            ~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\requests.py", line 186, in url_for
    url_path = url_path_provider.url_path_for(name, **path_params)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 661, in url_path_for
    raise NoMatchFound(name, path_params)
starlette.routing.NoMatchFound: No route exists for name "auth" and params "".
2025-05-05 10:36:11,553 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/google-token: No route exists for name "auth" and params "".
2025-05-05 10:36:11,570 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\routes.py", line 154, in google_auth
    |     reponse =  await google_login(code, request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\auth.py", line 174, in google_login
    |     print("The next url: ", request.url_for('auth'))
    |                             ~~~~~~~~~~~~~~~^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\requests.py", line 186, in url_for
    |     url_path = url_path_provider.url_path_for(name, **path_params)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 661, in url_path_for
    |     raise NoMatchFound(name, path_params)
    | starlette.routing.NoMatchFound: No route exists for name "auth" and params "".
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\routes.py", line 154, in google_auth
    reponse =  await google_login(code, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\auth.py", line 174, in google_login
    print("The next url: ", request.url_for('auth'))
                            ~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\requests.py", line 186, in url_for
    url_path = url_path_provider.url_path_for(name, **path_params)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 661, in url_path_for
    raise NoMatchFound(name, path_params)
starlette.routing.NoMatchFound: No route exists for name "auth" and params "".

2025-05-05 10:39:24,864 - govllminer.middleware - INFO - 127.0.0.1:65446 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 10:39:25,329 - govllminer.middleware - INFO - 127.0.0.1:65446 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.15s
2025-05-05 10:39:35,316 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/google-token
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\routes.py", line 154, in google_auth
    reponse =  await google_login(code, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\auth.py", line 174, in google_login
    print("The next url: ", request.url_for('auth'))
                            ~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\requests.py", line 186, in url_for
    url_path = url_path_provider.url_path_for(name, **path_params)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 661, in url_path_for
    raise NoMatchFound(name, path_params)
starlette.routing.NoMatchFound: No route exists for name "auth" and params "".
2025-05-05 10:39:35,384 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/google-token: No route exists for name "auth" and params "".
2025-05-05 10:39:35,476 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\routes.py", line 154, in google_auth
    |     reponse =  await google_login(code, request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\auth.py", line 174, in google_login
    |     print("The next url: ", request.url_for('auth'))
    |                             ~~~~~~~~~~~~~~~^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\requests.py", line 186, in url_for
    |     url_path = url_path_provider.url_path_for(name, **path_params)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 661, in url_path_for
    |     raise NoMatchFound(name, path_params)
    | starlette.routing.NoMatchFound: No route exists for name "auth" and params "".
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\routes.py", line 154, in google_auth
    reponse =  await google_login(code, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\auth.py", line 174, in google_login
    print("The next url: ", request.url_for('auth'))
                            ~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\requests.py", line 186, in url_for
    url_path = url_path_provider.url_path_for(name, **path_params)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 661, in url_path_for
    raise NoMatchFound(name, path_params)
starlette.routing.NoMatchFound: No route exists for name "auth" and params "".

2025-05-05 10:40:24,705 - govllminer.middleware - INFO - 127.0.0.1:65448 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 10:40:37,570 - govllminer.middleware - INFO - 127.0.0.1:65490 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.13s
2025-05-05 10:40:41,956 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/google-token
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\routes.py", line 154, in google_auth
    reponse =  await google_login(code, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\auth.py", line 186, in google_login
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://oauth2.googleapis.com/token'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-05 10:40:42,074 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/google-token: Client error '401 Unauthorized' for url 'https://oauth2.googleapis.com/token'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-05 10:40:42,146 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\routes.py", line 154, in google_auth
    |     reponse =  await google_login(code, request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\auth.py", line 186, in google_login
    |     response.raise_for_status()
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    |     raise HTTPStatusError(message, request=request, response=self)
    | httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://oauth2.googleapis.com/token'
    | For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\routes.py", line 154, in google_auth
    reponse =  await google_login(code, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\users\auth.py", line 186, in google_login
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://oauth2.googleapis.com/token'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

2025-05-05 10:44:02,911 - govllminer.middleware - INFO - 127.0.0.1:49280 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.01s
2025-05-05 10:44:03,326 - govllminer.middleware - INFO - 127.0.0.1:49280 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.18s
2025-05-05 11:28:27,197 - govllminer.middleware - INFO - 127.0.0.1:51255 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 11:28:27,366 - govllminer.middleware - INFO - 127.0.0.1:51255 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.06s
2025-05-05 11:45:21,079 - govllminer.middleware - INFO - 127.0.0.1:52028 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 11:45:21,299 - govllminer.middleware - INFO - 127.0.0.1:52028 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.02s
2025-05-05 11:46:32,684 - govllminer.middleware - INFO - 127.0.0.1:52076 - POST /api/v1/chat/ - Status: [93m401[0m - Time: 0.02s - Reason: {'message': 'User not authenticated', 'error_code': 'not_authenticated'}
2025-05-05 11:46:42,884 - govllminer.middleware - INFO - 127.0.0.1:52078 - GET /api/v1/auth/users/me - Status: [93m401[0m - Time: 0.00s - Reason: {'message': 'User not authenticated', 'error_code': 'not_authenticated'}
2025-05-05 11:46:55,130 - govllminer.middleware - INFO - 127.0.0.1:52096 - POST /api/v1/auth/signin - Status: [92m200[0m - Time: 1.99s
2025-05-05 11:47:00,797 - govllminer.middleware - INFO - 127.0.0.1:52096 - POST /api/v1/chat/ - Status: [91m500[0m - Time: 1.45s - Reason: {'message': 'Error communicating with chat API', 'error_code': 'chat_api_error'}
2025-05-05 11:49:07,200 - govllminer.middleware - INFO - 127.0.0.1:52207 - POST /api/v1/chat/ - Status: [92m200[0m - Time: 3.25s
2025-05-05 11:49:33,418 - govllminer.middleware - INFO - 127.0.0.1:52208 - POST /api/v1/chat/stream - Status: [91m500[0m - Time: 0.00s - Reason: {'message': 'Error communicating with chat API', 'error_code': 'chat_api_error'}
2025-05-05 11:50:27,309 - govllminer.middleware - INFO - 127.0.0.1:52268 - POST /api/v1/chat/stream - Status: [91m500[0m - Time: 0.00s - Reason: {'message': 'Error communicating with chat API', 'error_code': 'chat_api_error'}
2025-05-05 11:50:41,470 - govllminer.middleware - INFO - 127.0.0.1:52269 - POST /api/v1/chat/stream - Status: [92m200[0m - Time: 3.09s
2025-05-05 11:50:41,474 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/stream: 'dict' object has no attribute 'split'
2025-05-05 11:50:41,549 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 263, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 181, in __call__
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 74, in app
    |     await response(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 262, in __call__
    |     with collapse_excgroups():
    |          ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 266, in wrap
    |     await func()
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 246, in stream_response
    |     async for chunk in self.body_iterator:
    |     ...<2 lines>...
    |         await send({"type": "http.response.body", "body": chunk, "more_body": True})
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 81, in event_stream
    |     for word in response.split():
    |                 ^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'split'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 181, in __call__
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 74, in app
    await response(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 262, in __call__
    with collapse_excgroups():
         ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 266, in wrap
    await func()
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 246, in stream_response
    async for chunk in self.body_iterator:
    ...<2 lines>...
        await send({"type": "http.response.body", "body": chunk, "more_body": True})
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 81, in event_stream
    for word in response.split():
                ^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'split'

2025-05-05 11:51:46,200 - govllminer.middleware - INFO - 127.0.0.1:52334 - POST /api/v1/chat/stream - Status: [92m200[0m - Time: 3.07s
2025-05-05 11:51:46,206 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/stream: 'dict' object has no attribute 'split'
2025-05-05 11:51:46,267 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 263, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 181, in __call__
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 74, in app
    |     await response(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 262, in __call__
    |     with collapse_excgroups():
    |          ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 266, in wrap
    |     await func()
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 246, in stream_response
    |     async for chunk in self.body_iterator:
    |     ...<2 lines>...
    |         await send({"type": "http.response.body", "body": chunk, "more_body": True})
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 85, in event_stream
    |     for word in response.split():
    |                 ^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'split'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 181, in __call__
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 74, in app
    await response(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 262, in __call__
    with collapse_excgroups():
         ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 266, in wrap
    await func()
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 246, in stream_response
    async for chunk in self.body_iterator:
    ...<2 lines>...
        await send({"type": "http.response.body", "body": chunk, "more_body": True})
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 85, in event_stream
    for word in response.split():
                ^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'split'

2025-05-05 11:52:29,668 - govllminer.middleware - INFO - 127.0.0.1:52336 - POST /api/v1/chat/stream - Status: [92m200[0m - Time: 3.02s
2025-05-05 11:52:29,671 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/stream: 'dict' object has no attribute 'split'
2025-05-05 11:52:29,711 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 263, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 181, in __call__
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 74, in app
    |     await response(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 262, in __call__
    |     with collapse_excgroups():
    |          ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 266, in wrap
    |     await func()
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 246, in stream_response
    |     async for chunk in self.body_iterator:
    |     ...<2 lines>...
    |         await send({"type": "http.response.body", "body": chunk, "more_body": True})
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 85, in event_stream
    |     for word in response["response"].split():
    |                 ^^^^^^^^^^^^^^
    | AttributeError: 'dict' object has no attribute 'split'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 181, in __call__
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 74, in app
    await response(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 262, in __call__
    with collapse_excgroups():
         ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 266, in wrap
    await func()
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\responses.py", line 246, in stream_response
    async for chunk in self.body_iterator:
    ...<2 lines>...
        await send({"type": "http.response.body", "body": chunk, "more_body": True})
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 85, in event_stream
    for word in response["response"].split():
                ^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'split'

2025-05-05 11:52:47,499 - govllminer.middleware - INFO - 127.0.0.1:52371 - POST /api/v1/chat/stream - Status: [92m200[0m - Time: 3.90s
2025-05-05 11:53:06,983 - govllminer.middleware - INFO - 127.0.0.1:52375 - GET /api/v1/auth/users/me - Status: [92m200[0m - Time: 0.00s
2025-05-05 11:53:29,710 - govllminer.middleware - INFO - 127.0.0.1:52412 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 10.88s
2025-05-05 11:54:30,002 - govllminer.middleware - INFO - 127.0.0.1:52470 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 1.82s
2025-05-05 12:13:29,024 - govllminer.middleware - INFO - 127.0.0.1:53461 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.01s
2025-05-05 12:13:29,300 - govllminer.middleware - INFO - 127.0.0.1:53461 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.05s
2025-05-05 12:13:35,143 - govllminer.middleware - ERROR - HTTPException: Could not validate credentials at GET /api/v1/auth/users/me
2025-05-05 12:13:35,146 - govllminer.middleware - INFO - 127.0.0.1:53462 - GET /api/v1/auth/users/me - Status: [93m401[0m - Time: 0.00s - Reason: Could not validate credentials
2025-05-05 12:13:41,094 - govllminer.middleware - ERROR - HTTPException: Could not validate credentials at GET /api/v1/auth/users/me
2025-05-05 12:13:41,098 - govllminer.middleware - INFO - 127.0.0.1:53463 - GET /api/v1/auth/users/me - Status: [93m401[0m - Time: 0.01s - Reason: Could not validate credentials
2025-05-05 12:13:50,368 - govllminer.middleware - INFO - 127.0.0.1:53479 - POST /api/v1/auth/signin - Status: [93m400[0m - Time: 0.10s - Reason: {'message': 'Invalid Email Or Password', 'error_code': 'invalid_email_or_password'}
2025-05-05 12:13:59,805 - govllminer.middleware - INFO - 127.0.0.1:53479 - POST /api/v1/auth/signin - Status: [92m200[0m - Time: 5.22s
2025-05-05 12:14:07,181 - govllminer.middleware - INFO - 127.0.0.1:53480 - GET /api/v1/auth/users/me - Status: [92m200[0m - Time: 0.00s
2025-05-05 12:20:43,148 - govllminer.middleware - INFO - 127.0.0.1:53747 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 3.29s
2025-05-05 12:21:15,384 - govllminer.middleware - INFO - 127.0.0.1:53748 - GET /api/v1/chat/sessions - Status: [92m200[0m - Time: 0.78s
2025-05-05 12:27:09,836 - govllminer.middleware - INFO - 127.0.0.1:54072 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 12:27:10,098 - govllminer.middleware - INFO - 127.0.0.1:54072 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.05s
2025-05-05 12:27:20,482 - govllminer.middleware - INFO - 127.0.0.1:54073 - POST /api/v1/chat/list_features - Status: [92m200[0m - Time: 1.02s
2025-05-05 12:29:45,302 - govllminer.middleware - INFO - 127.0.0.1:54186 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-05 12:29:45,477 - govllminer.middleware - INFO - 127.0.0.1:54186 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.00s
2025-05-06 21:14:26,469 - govllminer.middleware - INFO - 127.0.0.1:61748 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-06 21:14:26,679 - govllminer.middleware - INFO - 127.0.0.1:61748 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.02s
2025-05-06 21:14:36,154 - govllminer.middleware - ERROR - HTTPException: Could not validate credentials at GET /api/v1/auth/users/me
2025-05-06 21:14:36,156 - govllminer.middleware - INFO - 127.0.0.1:61749 - GET /api/v1/auth/users/me - Status: [93m401[0m - Time: 0.00s - Reason: Could not validate credentials
2025-05-06 21:14:49,558 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/signin
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:14:49,571 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/signin: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:14:49,582 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |         errors=_normalize_errors(errors), body=response_content
    |     )
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}


2025-05-06 21:14:55,662 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/signin
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:14:55,665 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/signin: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:14:55,669 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |         errors=_normalize_errors(errors), body=response_content
    |     )
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}


2025-05-06 21:19:05,858 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/signin
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:19:05,866 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/signin: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:19:05,876 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |         errors=_normalize_errors(errors), body=response_content
    |     )
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}


2025-05-06 21:19:22,046 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/signin
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:19:22,065 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/signin: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:19:22,082 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |         errors=_normalize_errors(errors), body=response_content
    |     )
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}


2025-05-06 21:21:02,180 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/signin
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:21:02,182 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/signin: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:21:02,186 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |         errors=_normalize_errors(errors), body=response_content
    |     )
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}


2025-05-06 21:21:16,958 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/signin
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:21:16,971 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/signin: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:21:16,982 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |         errors=_normalize_errors(errors), body=response_content
    |     )
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}


2025-05-06 21:23:02,055 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/auth/signin
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:23:02,066 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/auth/signin: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-05-06 21:23:02,080 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |         errors=_normalize_errors(errors), body=response_content
    |     )
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
    | 
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}


2025-05-06 21:23:16,620 - govllminer.middleware - INFO - 127.0.0.1:62086 - POST /api/v1/auth/signin - Status: [92m200[0m - Time: 2.14s
2025-05-06 21:40:46,963 - govllminer.middleware - INFO - 127.0.0.1:62855 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-06 21:40:47,115 - govllminer.middleware - INFO - 127.0.0.1:62855 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.07s
2025-05-06 21:41:16,189 - govllminer.middleware - INFO - 127.0.0.1:62856 - POST /api/v1/chat/file/upload - Status: [92m200[0m - Time: 4.19s
2025-05-06 21:41:39,500 - govllminer.middleware - INFO - 127.0.0.1:62857 - GET /api/v1/auth/users/me - Status: [92m200[0m - Time: 0.00s
2025-05-06 21:41:53,669 - govllminer.middleware - INFO - 127.0.0.1:62874 - GET /api/v1/auth/users/me - Status: [92m200[0m - Time: 0.00s
2025-05-06 21:42:13,516 - govllminer.middleware - INFO - 127.0.0.1:62875 - GET /api/v1/chat/aa81496c-94b3-4cfa-ab41-46d8bbbc53b2/chats - Status: [92m200[0m - Time: 1.74s
2025-05-06 21:42:54,965 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 189, in file_upload_with_chat
    session_id=external_session_id,
               ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'external_session_id' where it is not associated with a value
2025-05-06 21:42:54,975 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: cannot access local variable 'external_session_id' where it is not associated with a value
2025-05-06 21:42:54,982 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 189, in file_upload_with_chat
    |     session_id=external_session_id,
    |                ^^^^^^^^^^^^^^^^^^^
    | UnboundLocalError: cannot access local variable 'external_session_id' where it is not associated with a value
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 189, in file_upload_with_chat
    session_id=external_session_id,
               ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'external_session_id' where it is not associated with a value

2025-05-06 21:42:59,325 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 189, in file_upload_with_chat
    session_id=external_session_id,
               ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'external_session_id' where it is not associated with a value
2025-05-06 21:42:59,329 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: cannot access local variable 'external_session_id' where it is not associated with a value
2025-05-06 21:42:59,333 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 189, in file_upload_with_chat
    |     session_id=external_session_id,
    |                ^^^^^^^^^^^^^^^^^^^
    | UnboundLocalError: cannot access local variable 'external_session_id' where it is not associated with a value
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 189, in file_upload_with_chat
    session_id=external_session_id,
               ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'external_session_id' where it is not associated with a value

2025-05-06 21:43:00,518 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 147, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 189, in file_upload_with_chat
    session_id=external_session_id,
               ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'external_session_id' where it is not associated with a value
2025-05-06 21:43:00,521 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: cannot access local variable 'external_session_id' where it is not associated with a value
2025-05-06 21:43:00,526 - govllminer.middleware - ERROR -   + Exception Group Traceback (most recent call last):
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 174, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    |     raise app_exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 189, in file_upload_with_chat
    |     session_id=external_session_id,
    |                ^^^^^^^^^^^^^^^^^^^
    | UnboundLocalError: cannot access local variable 'external_session_id' where it is not associated with a value
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 189, in file_upload_with_chat
    session_id=external_session_id,
               ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'external_session_id' where it is not associated with a value

2025-05-06 21:45:44,638 - govllminer.middleware - INFO - 127.0.0.1:62990 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 3.64s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 21:48:57,760 - govllminer.middleware - INFO - 127.0.0.1:63019 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 4.80s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 21:49:15,027 - govllminer.middleware - INFO - 127.0.0.1:63033 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 4.89s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 21:54:38,555 - govllminer.middleware - INFO - 127.0.0.1:63112 - POST /api/v1/chat/list_features - Status: [92m200[0m - Time: 2.35s
2025-05-06 21:55:44,716 - govllminer.middleware - ERROR - HTTPException: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: INSERT INTO chat_sessions (id, user_id, session_name, external_session_id, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE)]
[parameters: (UUID('e6d5f9d2-5c61-4c7c-b645-655c762c0dd1'), UUID('aa81496c-94b3-4cfa-ab41-46d8bbbc53b2'), None, None, datetime.datetime(2025, 5, 6, 20, 55, 37, 846639), datetime.datetime(2025, 5, 6, 20, 55, 37, 846644))]
(Background on this error at: https://sqlalche.me/e/20/dbapi) at POST /api/v1/chat/query/rag
2025-05-06 21:55:44,717 - govllminer.middleware - INFO - 127.0.0.1:63114 - POST /api/v1/chat/query/rag - Status: [91m500[0m - Time: 8.60s - Reason: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: INSERT INTO chat_sessions (id, user_id, session_name, external_session_id, created_at, updated_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE)]
[parameters: (UUID('e6d5f9d2-5c61-4c7c-b645-655c762c0dd1'), UUID('aa81496c-94b3-4cfa-ab41-46d8bbbc53b2'), None, None, datetime.datetime(2025, 5, 6, 20, 55, 37, 846639), datetime.datetime(2025, 5, 6, 20, 55, 37, 846644))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-06 21:56:00,840 - govllminer.middleware - INFO - 127.0.0.1:63129 - POST /api/v1/chat/query/rag - Status: [92m200[0m - Time: 6.83s
2025-05-06 21:56:34,226 - govllminer.middleware - INFO - 127.0.0.1:63131 - POST /api/v1/chat/query/direct - Status: [92m200[0m - Time: 5.20s
2025-05-06 21:57:25,729 - govllminer.middleware - INFO - 127.0.0.1:63151 - POST /api/v1/upload/process/folder - Status: [92m200[0m - Time: 8.08s
2025-05-06 22:00:50,239 - govllminer.middleware - INFO - 127.0.0.1:63279 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 3.01s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:01:10,850 - govllminer.middleware - INFO - 127.0.0.1:63281 - POST /api/v1/chat/upload_file_with_chat - Status: [92m200[0m - Time: 9.74s
2025-05-06 22:06:11,601 - govllminer.middleware - INFO - 127.0.0.1:63392 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-06 22:06:55,869 - govllminer.middleware - INFO - 127.0.0.1:63404 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.04s
2025-05-06 22:06:55,870 - govllminer.middleware - INFO - 127.0.0.1:63394 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.04s
2025-05-06 22:06:55,955 - govllminer.middleware - INFO - 127.0.0.1:63394 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.00s
2025-05-06 22:07:45,290 - govllminer.middleware - INFO - 127.0.0.1:63416 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 8.66s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:08:36,800 - govllminer.middleware - INFO - 127.0.0.1:63418 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 10.15s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:10:05,893 - govllminer.middleware - INFO - 127.0.0.1:63446 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 6.12s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:10:29,979 - govllminer.middleware - INFO - 127.0.0.1:63452 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 7.31s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:12:55,071 - govllminer.middleware - INFO - 127.0.0.1:63495 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 8.82s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:13:25,810 - govllminer.middleware - INFO - 127.0.0.1:63516 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 7.47s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:13:37,073 - govllminer.middleware - INFO - 127.0.0.1:63516 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 6.29s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:13:53,788 - govllminer.middleware - INFO - 127.0.0.1:63517 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 11.22s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:14:16,445 - govllminer.middleware - INFO - 127.0.0.1:63536 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 5.55s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:15:22,089 - govllminer.middleware - INFO - 127.0.0.1:63623 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-06 22:15:40,084 - govllminer.middleware - INFO - 127.0.0.1:63625 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.05s
2025-05-06 22:16:57,458 - govllminer.middleware - INFO - 127.0.0.1:63645 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 6.44s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:17:20,946 - govllminer.middleware - INFO - 127.0.0.1:63647 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 6.09s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:17:45,622 - govllminer.middleware - INFO - 127.0.0.1:63665 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 6.08s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:19:22,590 - govllminer.middleware - INFO - 127.0.0.1:63680 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 5.97s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:19:31,053 - govllminer.middleware - INFO - 127.0.0.1:63682 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-06 22:19:31,233 - govllminer.middleware - INFO - 127.0.0.1:63682 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.02s
2025-05-06 22:19:55,651 - govllminer.middleware - INFO - 127.0.0.1:63688 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 8.29s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:20:38,572 - govllminer.middleware - INFO - 127.0.0.1:63701 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 6.00s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:22:10,732 - govllminer.middleware - INFO - 127.0.0.1:63729 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 8.91s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:22:22,700 - govllminer.middleware - INFO - 127.0.0.1:63729 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 10.48s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:23:24,646 - govllminer.middleware - INFO - 127.0.0.1:63751 - POST /api/v1/chat/upload_file_with_chat - Status: [91m500[0m - Time: 7.45s - Reason: {'message': 'Chat upload failed', 'error_code': 'chat_upload_error'}
2025-05-06 22:28:14,857 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 22:28:14,884 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 22:28:14,890 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 22:28:25,642 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 22:28:25,658 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 22:28:25,685 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 22:28:45,518 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 22:28:45,522 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 22:28:45,526 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 22:30:16,843 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 22:30:16,864 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 22:30:16,870 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 22:31:36,330 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 22:31:36,335 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 22:31:36,339 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 22:56:04,450 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 101, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout
2025-05-06 22:56:04,495 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 22:56:04,513 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 101, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2025-05-06 22:56:15,889 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 101, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 156, in _connect
    stream = await stream.start_tls(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 67, in start_tls
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout
2025-05-06 22:56:15,894 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 22:56:15,903 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 101, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 156, in _connect
    stream = await stream.start_tls(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 67, in start_tls
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout

2025-05-06 23:00:53,132 - govllminer.middleware - INFO - 127.0.0.1:64729 - GET /api/v1/docs - Status: [92m200[0m - Time: 0.00s
2025-05-06 23:00:53,248 - govllminer.middleware - INFO - 127.0.0.1:64729 - GET /api/v1/openapi.json - Status: [92m200[0m - Time: 0.04s
2025-05-06 23:01:36,499 - govllminer.middleware - INFO - 127.0.0.1:64730 - POST /api/v1/chat/upload_file_with_chat - Status: [92m200[0m - Time: 9.93s
2025-05-06 23:03:43,731 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:03:43,755 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:03:43,792 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 23:05:07,912 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:05:07,954 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:05:07,975 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 23:05:22,415 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:05:22,465 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:05:22,503 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 23:06:09,195 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:06:09,219 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:06:09,226 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 23:06:36,284 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:06:36,333 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:06:36,339 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 23:07:16,937 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:07:16,943 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:07:16,948 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 23:08:18,054 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:08:18,073 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:08:18,078 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 23:08:39,854 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:08:39,887 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:08:39,895 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 23:09:11,716 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:09:11,734 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:09:11,750 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

2025-05-06 23:10:33,272 - govllminer.middleware - ERROR - Unhandled error for POST /api/v1/chat/upload_file_with_chat
Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout
2025-05-06 23:10:33,297 - govllminer.middleware - ERROR - Unhandled exception at POST /api/v1/chat/upload_file_with_chat: 
2025-05-06 23:10:33,311 - govllminer.middleware - ERROR - Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 136, in handle_async_request
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 88, in handle_async_request
    await self._send_request_body(**kwargs)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 159, in _send_request_body
    await self._send_event(event, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_async\http11.py", line 166, in _send_event
    await self._network_stream.write(bytes_to_send, timeout=timeout)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_backends\anyio.py", line 48, in write
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.WriteTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 100, in log_requests
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\middleware.py", line 97, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 153, in call_next
    raise app_exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\routes.py", line 184, in file_upload_with_chat
    response = await chat_client.proxy_chat_upload_service(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 400, in proxy_chat_upload_service
    raise e
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\src\chat\service.py", line 390, in proxy_chat_upload_service
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<13 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Olanrewaju Lawal\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Olanrewaju Lawal\Desktop\Lanre\DSN\backend-govllminer\venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.WriteTimeout

